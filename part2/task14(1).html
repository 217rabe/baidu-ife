<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
            <title>
                part2 task14
            </title>

        </meta>
    </head>
    <body>
        <h3>
            污染城市列表
        </h3>
        <ul id="aqi-list">
            <!--   
    <li>第一名：福州（样例），10</li>
    <li>第二名：福州（样例），10</li> -->
        </ul>
        <script type="text/javascript">
            var aqiData = [
                  ["北京", 90],
                  ["上海", 50],
                  ["福州", 10],
                  ["广州", 50],
                  ["成都", 90],
                  ["西安", 100],
                  ["南京",300]//自己加入了南京用于测试
                ];
        //直接定义一个函数并立即调用
        (function () {

          /*
          在注释下方编写代码
          遍历读取aqiData中各个城市的数据
          将空气质量指数大于60的城市显示到aqi-list的列表中
          */
         
         //通过比较选出大于60的城市
         var list=new Array();

         for(var i=0,j=aqiData.length;i<j;i++)
         {
            if(aqiData[i][1]>60)
            {
                  list.push([aqiData[i][0],aqiData[i][1]]);
            }
            
          }
        //按照数组的第二个值从大到小排列
            list.sort(function(a,b){
              return b[1]>a[1];
            })

            var all="";//定义一个空的字符串用于后面的文本显示
            var rank=["一","二","三","四","五"];
            for (var i = 0,j=list.length; i<j; i++) 
            {
            //添加文本
            all +="<li>第"+rank[i]+"名"+":"+list[i][0]+" "+list[i][1]+"</li>";
            var ul=document.getElementById("aqi-list");
            ul.innerHTML=all;
          }
          
        })();
                </script>
            </body>
        </html>            
